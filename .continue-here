## CHECKPOINT REACHED

**Type:** human-verify
**Plan:** 06-04
**Progress:** 0/1 tasks complete (checkpoint only)

### Completed Tasks

| Task | Name | Commit | Files |
|------|------|--------|-------|
| N/A | N/A | N/A | N/A |

### Current Task

**Task 1:** Human-verify complete recommendation workflow
**Status:** awaiting user verification
**Blocked by:** Human verification required

### Checkpoint Details

**What was built:**
Complete recommendation system with:
- Backend: Recommendation generation from idle patterns, API endpoints for list/generate/dismiss/confirm
- Frontend: RecommendationCard with collapsible details, RecommendationModal with activity graph, ActivityGraph visualization
- Integration: Dashboard recommendations section with generate button, RecommendationsPage with full functionality

**How to verify:**

**Setup:**
1. Start backend: `go run cmd/server/main.go`
2. Start frontend: `cd web && npm run dev`
3. Open http://localhost:5173

**Test 1: Dashboard Recommendations Section**
1. Navigate to Dashboard
2. Verify "AI Recommendations" section exists
3. Verify "Generate" button is visible
4. Click "Generate" button - should show loading spinner
5. Verify toast notification appears (even if 0 recommendations generated)

**Test 2: Empty State Display**
1. If no recommendations exist, verify empty state shows:
   - "Need 24+ hours of activity data to generate recommendations" message
   - Or count of dismissed recommendations if any were dismissed
2. Verify "Generate Recommendations" button is visible in empty state

**Test 3: Recommendations Page**
1. Navigate to /recommendations
2. Verify header shows pending/dismissed counts
3. Verify "Generate Recommendations" button exists
4. Click generate button - verify it works same as dashboard

**Test 4: Recommendation Card Display (if recommendations exist)**
Note: This requires having instances with 24+ hours of metric data. If no real data:
1. Insert test recommendation directly in database
2. Verify card shows:
   - "AI Suggested" purple badge
   - Instance name
   - Confidence label (High/Medium/Low, NOT percentage per CONTEXT.md)
   - Estimated savings in $/day
   - Expand/collapse chevron
3. Click card to expand - verify details section appears
4. Verify "View Details" and "Mark as Not Now" buttons

**Test 5: Recommendation Modal (if recommendations exist)**
1. Click "View Details" on a recommendation card
2. Verify modal opens with:
   - "Confirm Schedule Recommendation" title
   - AI Suggested badge + instance name
   - Activity graph (24-hour visualization)
   - Suggested sleep/wake times in human-readable format
   - Estimated savings summary (green highlight)
   - Confidence label
3. Click "Cancel" - modal should close
4. Click "View Details" again, then click "Create Schedule"
5. Verify:
   - Loading state on button
   - Success toast
   - Modal closes
   - Recommendation removed from list

**Test 6: Dismiss Flow (if recommendations exist)**
1. Click "Mark as Not Now" on a recommendation
2. Verify toast notification
3. Verify recommendation removed from list
4. Verify dismissed count increases

**Test 7: Created Schedule Verification**
1. Navigate to /schedules
2. Find schedule created from recommendation
3. Verify name is "AI Suggested: {instance_name}"
4. Verify CRON schedules match what was shown in modal
5. Verify schedule is enabled

### Awaiting

**Type "approved" if all tests pass.**

If issues found, describe:
- Which test failed
- Expected vs actual behavior
- Any error messages in console
