# Milestone v1.0: MVP

**Status:** ✅ SHIPPED 2026-02-23
**Phases:** 1-6
**Total Plans:** 24

## Overview

SnoozeQL v1.0 delivers a complete database lifecycle management system that minimizes cloud costs by automatically sleeping instances during inactive periods while ensuring they wake up when needed. This initial release covers multi-cloud discovery, manual control, scheduling automation, activity analysis, and intelligent recommendations—the key differentiator that sets SnoozeQL apart from basic schedulers.

## Phases

### Phase 1: Multi-Cloud Discovery

**Goal**: Users can view all database instances across multiple AWS and GCP accounts
**Depends on**: Nothing (first phase)
**Plans**: 6 plans

Plans:

- [x] 01-01: Instance persistence and connection status tracking
- [x] 01-02: Multi-account provider registration and GCP credentials
- [x] 01-03: Sortable/filterable instances table with account column
- [x] 01-04: Connection status chips, skeleton loading, toast notifications
- [x] 01-05: Clickable dashboard stats and add account CTAs
- [x] 01-06: End-to-end verification checkpoint

**Details:**

Instance persistence with database syncing, multi-account provider registration (AWS + GCP), sortable/filterable instances table with account column, connection status tracking with chips and toasts, clickable dashboard stats with URL-based filtering, CTAs for adding cloud accounts, complete end-to-end verification.

### Phase 2: Manual Control & Audit

**Goal**: Users can manually sleep/wake instances with confirmation and see operation history
**Depends on**: Phase 1 ✅
**Plans**: 5 plans

Plans:

- [x] 02-01: EventStore and Events API endpoint (Wave 1)
- [x] 02-02: ConfirmDialog component with Headless UI (Wave 1)
- [x] 02-03: Bulk stop/start API endpoints with audit logging (Wave 2)
- [x] 02-04: Multi-select and bulk actions in InstancesPage (Wave 3)
- [x] 02-05: AuditLogPage, navigation, and verification (Wave 4)

**Details:**

EventStore with CreateEvent, ListEvents methods for audit logging, ConfirmDialog component with Headless UI for confirmation flows, bulk stop/start API endpoints with event logging, multi-select table with bulk action buttons in InstancesPage, AuditLogPage with event filtering and navigation link, human-verified complete end-to-end flow.

### Phase 3: Basic Scheduling

**Goal**: Users can create time-based sleep/wake schedules via visual weekly grid
**Depends on**: Phase 2 ✅
**Plans**: 3 plans

Plans:

- [x] 03-01: CRON utilities and WeeklyScheduleGrid component (Wave 1)
- [x] 03-02: ScheduleModal with grid and CRON mode (Wave 2)
- [x] 03-03: SchedulesPage integration and verification (Wave 3)

**Details:**

WeeklyScheduleGrid component with 7×24 drag-paintable cells, ScheduleModal with grid and CRON mode toggle, SchedulesPage integration with modal for create/edit, CRON conversion utilities (grid↔CRON, human-readable descriptions), human-verified complete end-to-end schedule creation flow.

### Phase 4: Advanced Schedule Filtering

**Goal**: Users can assign schedules to instances using flexible regex-based filters
**Depends on**: Phase 3 ✅
**Plans**: 3 plans

Plans:

- [x] 04-01: Backend matcher and filter utilities (Wave 1)
- [x] 04-02: FilterBuilder, FilterRule, FilterPreview components (Wave 2)
- [x] 04-03: ScheduleModal integration and verification (Wave 3)

**Details:**

Backend matcher logic with MatchInstance, MatchSelector, ValidateSelectors, filter preview API endpoint: POST /api/v1/schedules/preview-filter, FilterBuilder component for visual filter creation, FilterRule component with field type, match type, pattern inputs, FilterPreview component showing matched instance count and list, AND/OR toggle for combining multiple rules, live client-side preview with instant updates, SchedulesPage with instance count column, regex validation with inline error messages.

### Phase 5: Activity Analysis

**Goal**: System collects and analyzes metrics to detect inactivity patterns
**Depends on**: Phase 4 ✅
**Plans**: 3 plans

Plans:

- [x] 05-01: Database schema and MetricsStore (Wave 1)
- [x] 05-02: CloudWatch client and MetricsCollector (Wave 2)
- [x] 05-03: Idle period detection algorithms (Wave 3)

**Details:**

Metrics hourly table with indexes for efficient time-range queries, HourlyMetric model and MetricsStore with UPSERT support, CloudWatchClient with 3 retries and exponential backoff, MetricsCollector service running on 15-minute interval, idle period detection with CPU < 1%, 8+ hours, 24+ hours data thresholds, activity pattern analysis integrated into analyzer, GCP Cloud Monitoring deferred per CONTEXT.md to validate AWS first.

### Phase 6: Intelligent Recommendations

**Goal**: System generates schedule recommendations based on activity analysis that users can review and apply
**Depends on**: Phase 5
**Plans**: 4 plans

Plans:

- [x] 06-01: Backend recommendation generation and API handlers
- [x] 06-02: Frontend components (RecommendationCard, Modal, ActivityGraph)
- [x] 06-03: Dashboard and RecommendationsPage integration
- [x] 06-04: End-to-end verification checkpoint

**Details:**

Backend recommendation generation from idle patterns (GenerateRecommendations, API handlers), RecommendationCard with expand/collapse and confidence labels (High/Medium/Low), RecommendationModal with ActivityGraph visualization and schedule confirmation, Dashboard recommendations section with generate button and empty states, RecommendationsPage with full dismiss/confirm workflow, 24-hour CPU activity visualization using recharts, human verification checkpoint for end-to-end workflow testing.

---

## Milestone Summary

**Key Decisions:**

- Use existing discovery service pattern - leverages working provider polling
- Single-user POC scope - hackathon constraints, no need for complex auth
- Cloud provider stop/start APIs - requirement to achieve $0 cost during sleep
- Regex-based schedule assignment - user requested flexible filtering with wildcards
- Manual confirmation before applying recommendations - prevents accidental schedule changes
- Activity metrics from CloudWatch/Cloud Monitoring - standard provider metrics, well-documented

**Issues Resolved:**

- Context overflow at 100+ phases - resolved through ROADMAP.md split (one line per completed milestone)
- Phase insertion confusion - resolved through decimal phase numbering (2.1, 2.2)

**Issues Deferred:**

- PROJECT-STATE.md tiering (deferred until decisions > 300)

**Technical Debt Incurred:**

- AWS 7-day auto-restart: implement re-stop mechanism (deferred)
- Instance state race conditions: implement proper state machine (deferred)

---
